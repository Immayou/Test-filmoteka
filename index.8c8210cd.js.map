{"mappings":"AAEA,MAAMA,EAAYC,SAASC,MAAM,eAC3BC,EAAQH,EAAUI,SAAuB,aACzCC,EAAYJ,SAASK,cAAc,cAEnCC,EAAqB,ICNZ,MAMXC,qBACI,MAAMC,QAAiBC,MAAM,0FAE7B,aADoBD,EAASE,QAChBC,QAGjBJ,gBACI,MAAMC,QAAiBC,MAAM,4FAA4FG,KAAKC,oBAAoBD,KAAKE,QAEvJ,aADoBN,EAASE,QAChBC,QAGjBI,gBACIH,KAAKE,MAAQ,EAGjBE,YACIJ,KAAKE,KAAO,EAGZG,YACA,OAAOL,KAAKC,YAGZI,UAAOC,GACP,OAAON,KAAKC,YAAcK,EA9B9BC,cACIP,KAAKC,YAAc,GACnBD,KAAKE,KAAO,IDmBpB,SAASM,EAAcC,GACnB,MAAMC,EAAOC,aAGPC,GAFMC,OAAOH,GAAMI,QAAQ,GAEhBL,EAAMM,KAAI,EAACC,YAACA,EAAWC,eAAEA,EAAcC,aAAEA,EAAYC,OAAEA,KAC/D,iDACUH,WAAqBI,8EAE3BH,6CACmBA,kHAO9BzB,EAAU6B,mBAAmB,YAAaT,GA9BhDzB,EAAUmC,iBAAiB,UAE3B3B,eAAuC4B,GACvCA,EAAIC,iBACJ9B,EAAmBW,MAAQf,EAAMmC,MACjC,UACiC/B,EAAmBgC,UAAUC,KAAKnB,GAE/D,MAAOoB,GACPC,QAAQC,IAAI","sources":["src/index.js","src/js/dataRequest.js"],"sourcesContent":["import FilmsDataApiSearch from './js/dataRequest';\n\nconst formInput = document.forms['search-form']\nconst input = formInput.elements['search_input']\nconst films_box = document.querySelector('.films_box')\n\nconst filmsDataApiSearch = new FilmsDataApiSearch()\n\nformInput.addEventListener('submit', onRanderDataRequestBtn)\n\nasync function onRanderDataRequestBtn (evt) {\nevt.preventDefault()\nfilmsDataApiSearch.query = input.value\ntry {\n    const getDataRequest = await filmsDataApiSearch.request().then(createMarkup)\n\n  } catch (error) {\n    console.log('1')\n  }\n\n}\n\nfunction createMarkup (films) {\n    const vote = vote_average\n    const two = Number(vote).toFixed(1)\n\n    const template = films.map(({poster_path, original_title, release_date, genres}) => {\n      return `<div class=\"film-card\">\n           <img src=\"${poster_path}\" alt=\"${overview}\" loading=\"lazy\" />\n           <div class=\"info\">\n           <h1>${original_title}</h1>\n           <p class=\"info-genres\">${original_title}</p>\n           <span class=\"info-slash\">|</span>\n           <p class=\"info-year\"></p>\n           </div>`})\n      \n\n    \n      films_box.insertAdjacentHTML('beforeend', template)\n\n  }\n\n","export default class FilmsDataApiSearch {\n    constructor () {\n        this.searchQuery = '';\n        this.page = 1;\n    }\n\n    async genreRequest () {\n        const response = await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=f19c93a33a6f9456f5109701414d5b41`);\n        const films = await response.json();\n        return films.results;\n    }\n\n    async request () {\n        const response = await fetch(`https://api.themoviedb.org/3/search/movie?api_key=f19c93a33a6f9456f5109701414d5b41&query=${this.searchQuery}&page=${this.page}`);\n        const films = await response.json();\n        return films.results;\n    } \n    \n    incrementPage() {\n        this.page += 1; \n    }\n    \n    resetPage() {\n        this.page = 1;\n    }\n\n    get query () {\n        return this.searchQuery;\n    }\n\n    set query (newQuery) {\n        return this.searchQuery = newQuery\n    }\n\n}"],"names":["$1f0dc3b9307be026$var$formInput","document","forms","$1f0dc3b9307be026$var$input","elements","$1f0dc3b9307be026$var$films_box","querySelector","$1f0dc3b9307be026$var$filmsDataApiSearch","async","response","fetch","json","results","this","searchQuery","page","incrementPage","resetPage","query","newQuery","constructor","$1f0dc3b9307be026$var$createMarkup","films","vote","vote_average","template","Number","toFixed","map","poster_path","original_title","release_date","genres","overview","insertAdjacentHTML","addEventListener","evt","preventDefault","value","request","then","error","console","log"],"version":3,"file":"index.8c8210cd.js.map"}